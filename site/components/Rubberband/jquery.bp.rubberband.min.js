/*
 * Rubberband - Responsive breakpoint events
 * @author Ben Plum
 * @version 2.0.8
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

if(jQuery)(function(e){function p(a){a=a||{};for(var b in f)options[b]=a[b]?e.merge(a[b],options[b]):options[b];options=e.extend(options,a);options.minWidth.sort(h);options.maxWidth.sort(k);options.minHeight.sort(h);options.maxHeight.sort(k);for(b in f){g[b]={};for(var c in options[b])a=window.matchMedia("("+f[b]+": "+(Infinity==options[b][c]?1E5:options[b][c])+options.unit+")"),a.addListener(l),g[b][options[b][c]]=a}l()}function l(){null!=d&&(clearTimeout(d),d=null);d=setTimeout(function(){c={};for(var a in f)for(var b in g[a])if(g[a][b].matches){var d= "Infinity"==b?Infinity:parseInt(b,10);if(-1<a.indexOf("max")){if(!c[a]||d<c[a])c[a]=d}else if(!c[a]||d>c[a])c[a]=d}e(window).trigger("snap",[c]);m.resolve()},options.debouce)}function k(a,b){return b-a}function h(a,b){return a-b}var q=void 0!==window.matchMedia;options={debounce:5,minWidth:[0],maxWidth:[Infinity],minHeight:[0],maxHeight:[Infinity],unit:"px"};var g={},f={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"},d=null,c=void 0,m=new e.Deferred,n={ready:function(){return m.promise()}, state:function(){return c}};e.rubberband=function(a){if(q){if(n[a])return n[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return p.apply(this,arguments)}return this}})(jQuery);