/*
 * Naver Plugin [Formstone Library]
 * @author Ben Plum
 * @version 0.0.5
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */
 
if(jQuery)(function(b){function e(a){a=a||{};var c=b.extend({},f,a);return b(this).each(function(){var a=b(this);a.data("naver")||(c.labelClosed=a.data("label-closed")||c.labelClosed,c.labelOpen=a.data("label-open")||c.labelOpen,c.animated&&a.addClass("animated"),a.wrapInner('<div class="naver-container" />').wrapInner('<div class="naver-wrapper" />').prepend('<span class="naver-handle">'+(c.label?c.labelClosed:"")+"</span>"),a=b.extend({$nav:a,$container:a.find(".naver-container"),$wrapper:a.find(".naver-wrapper"), $handle:a.find(".naver-handle")},c),a.$nav.on("click.naver",".naver-handle",a,g).on("open.naver",a,h).on("close.naver",a,j).data("naver",a),d.activate.apply(a.$nav))})}function g(a){a.preventDefault();a.stopPropagation();b(a.currentTarget);a=a.data;b(".naver").not(a.$nav).trigger("close.naver");a.$nav.hasClass("open")?a.$nav.trigger("close.naver"):a.$nav.trigger("open.naver")}function h(a){a=a.data;a.$wrapper.css({height:a.$container.outerHeight(!0)});a.$nav.addClass("open");a.label&&a.$handle.html(a.labelOpen)} function j(a){a=a.data;a.$wrapper.css({height:0});a.$nav.removeClass("open");a.label&&a.$handle.html(a.labelClosed)}var f={animated:!1,label:!0,labelClosed:"Navigation",labelOpen:"Close"},d={activate:function(){return b(this).each(function(){b(this).addClass("active").trigger("close.naver")})},deactivate:function(){return b(this).each(function(){b(this).removeClass("active").trigger("close.naver")})},destroy:function(){return b(this).each(function(){var a=b(this).data("naver");a.$handle.remove(); a.$container.contents().unwrap().unwrap();a.$nav.removeClass("active").off(".naver").removeData("naver")})}};b.fn.naver=function(a){return d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"===typeof a||!a?e.apply(this,arguments):this}})(jQuery);